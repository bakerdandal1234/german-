<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ù‡Ù… Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ© - Ù…Ø³ØªÙˆÙ‰ A2-B1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .branding {
            text-align: center;
            margin-bottom: 5px;
        }

        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5em;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .dark-mode-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        body.dark-mode .container {
            background: #0f3460;
            color: #e0e0e0;
        }

        body.dark-mode h1 {
            color: #7dd3fc;
        }

        body.dark-mode .baker-dandal {
            background: linear-gradient(90deg, #7dd3fc, #a78bfa, #f0abfc, #7dd3fc);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        body.dark-mode .subtitle {
            color: #b0b0b0;
        }

        body.dark-mode .search-box {
            background: #16213e;
            color: #e0e0e0;
            border-color: #1a1a2e;
        }

        body.dark-mode .search-box:focus {
            border-color: #7dd3fc;
        }

        body.dark-mode .search-icon {
            color: #7dd3fc;
        }

        body.dark-mode .clear-search {
            background: #1a1a2e;
            color: #e0e0e0;
        }

        body.dark-mode .tab-button {
            background: #16213e;
            color: #b0b0b0;
            border-color: #1a1a2e;
        }

        body.dark-mode .tab-button:hover {
            background: #1a1a2e;
            color: #7dd3fc;
        }

        body.dark-mode .tab-button.active {
            background: linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%);
            color: white;
        }

        body.dark-mode .verb-card {
            background: #16213e;
            border-color: #1a1a2e;
        }

        body.dark-mode .verb-card:hover {
            border-color: #7dd3fc;
        }

        body.dark-mode .verb-german {
            color: #7dd3fc;
        }

        body.dark-mode .verb-prep {
            color: #a78bfa;
        }

        body.dark-mode .verb-arabic {
            color: #e0e0e0;
        }

        body.dark-mode .verb-example {
            color: #b0b0b0;
            border-top-color: #1a1a2e;
        }

        body.dark-mode .modal-content,
        body.dark-mode .quiz-content {
            background: #0f3460;
            color: #e0e0e0;
        }

        body.dark-mode .modal-verb-title,
        body.dark-mode .quiz-progress {
            color: #7dd3fc;
        }

        body.dark-mode .derivative-card {
            background: #16213e;
            border-color: #1a1a2e;
        }

        body.dark-mode .quiz-question {
            background: #16213e;
        }

        body.dark-mode .quiz-verb,
        body.dark-mode #fillBlankSentence {
            color: #60a5fa;
            text-shadow: 0 0 10px rgba(96, 165, 250, 0.3);
        }

        body.dark-mode #fillBlankHint {
            color: #d1d5db;
        }

        body.dark-mode .quiz-question-text {
            color: #e5e7eb;
        }

        body.dark-mode .quiz-option {
            background: #16213e;
            border-color: #1a1a2e;
            color: #e0e0e0;
        }

        body.dark-mode .quiz-option:hover {
            border-color: #7dd3fc;
            background: #1a1a2e;
        }

        body.dark-mode .quiz-input {
            background: #1a1a2e !important;
            color: #e0e0e0 !important;
            border-color: #7dd3fc;
        }

        body.dark-mode .quiz-input::placeholder {
            color: #6b7280;
        }

        body.dark-mode .quiz-input:focus {
            background: #1a1a2e !important;
            color: #ffffff !important;
        }

        body.dark-mode .favorite-btn {
            color: #fbbf24;
            text-shadow: 0 0 5px rgba(251, 191, 36, 0.5);
        }

        body.dark-mode .favorite-btn:hover {
            color: #fcd34d;
            transform: scale(1.3);
        }

        body.dark-mode .dark-mode-toggle {
            background: #16213e;
            border-color: #1a1a2e;
            color: #fbbf24;
        }

        body.dark-mode .footer {
            border-top-color: #1a1a2e;
            color: #b0b0b0;
        }

        /* Confetti Styles */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #667eea;
            position: absolute;
            animation: confetti-fall 3s linear forwards;
            z-index: 9999;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 50px;
            border-radius: 20px;
            font-size: 2em;
            font-weight: bold;
            z-index: 10000;
            animation: successPop 0.5s ease;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.5);
        }

        @keyframes successPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        body.dark-mode .success-message {
            background: linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%);
        }

        .baker-dandal {
            font-size: 1.2em;
            font-weight: bold;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #667eea);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientWave 3s ease infinite;
            letter-spacing: 2px;
            display: inline-block;
        }

        @keyframes gradientWave {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .stats-badge {
            background: rgba(255,255,255,0.3);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.9em;
        }

        /* Search Box Styles */
        .search-container {
            margin-bottom: 25px;
            position: relative;
        }

        .search-wrapper {
            position:relative; 
            display: flex;
            gap: 10px;
            align-items: stretch;
        }

        .search-box {
            flex: 1;
            padding: 15px 20px 15px 50px;
            font-size: 1.1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: all 0.3s ease;
            direction: ltr;
            text-align: right;
            position: relative;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-size: 1.3em;
            pointer-events: none;
        }

        .clear-search {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #f0f0f0;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: #666;
            transition: all 0.3s ease;
        }

        .clear-search:hover {
            background: #667eea;
            color: white;
        }

        .clear-search.visible {
            display: flex;
        }

        .search-results-info {
            text-align: center;
            padding: 10px;
            color: #667eea;
            font-weight: 600;
            font-size: 1em;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.2em;
        }

        /* Tabs Styles */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 5px;
        }

        .tab-button {
            background: #f5f5f5;
            border: none;
            padding: 12px 15px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            color: #666;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
            white-space: nowrap;
            border: 2px solid transparent;
            flex: 0 0 auto;
        }

        @media (min-width: 1024px) {
            .tab-button {
                flex: 1 1 calc(20% - 5px);
            }
        }

        @media (min-width: 769px) and (max-width: 1023px) {
            .tab-button {
                flex: 1 1 calc(25% - 5px);
            }
        }

        @media (max-width: 768px) {
            .tab-button {
                flex: 1 1 calc(33.333% - 5px);
            }
        }

        .tab-button:hover {
            background: #e8e8e8;
            color: #667eea;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .verbs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .verb-card {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            background: #f9f9f9;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .favorite-btn {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .favorite-btn:hover {
            transform: scale(1.2);
        }

        .favorite-btn.active {
            animation: starPop 0.3s ease;
        }

        @keyframes starPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .verb-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .verb-card.highlight {
            background: #fff9e6;
            border-color: #ffd700;
        }

        .has-derivatives::after {
            content: "ğŸ“Œ";
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 1.2em;
        }
        
        .verb-german {
            font-size: 1.25em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
            direction: ltr;
            text-align: right;
        }
        
        .verb-prep {
            font-size: 0.8em;
            color: #9333ea;
            margin-bottom: 5px;
            direction: ltr;
            text-align: right;
            font-weight: 600;
        }
        
        .verb-arabic {
            font-size: 1em;
            color: #333;
            margin-bottom: 8px;
        }
        
        .verb-example {
            font-size: 0.85em;
            color: #666;
            font-style: italic;
            direction: ltr;
            text-align: right;
            padding-top: 8px;
            border-top: 1px solid #e0e0e0;
        }

        .highlight-text {
            background-color: #ffeb3b;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            animation: fadeIn 0.3s;
            overflow-y: auto;
        }

        /* Quiz Modal Styles */
        .quiz-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            overflow-y: auto;
        }

        .quiz-content {
            background-color: white;
            margin: 3% auto;
            padding: 40px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-progress {
            text-align: center;
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .quiz-score {
            text-align: center;
            font-size: 1em;
            color: #666;
            margin-bottom: 20px;
        }

        .quiz-question {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
        }

        .quiz-verb {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            direction: ltr;
            margin-bottom: 10px;
        }

        .quiz-question-text {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 10px;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
            margin-bottom: 20px;
        }

        .quiz-option {
            padding: 15px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quiz-option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .quiz-option.wrong {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .quiz-option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .quiz-result {
            text-align: center;
            padding: 30px;
        }

        .quiz-result-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .quiz-result-text {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
        }

        .quiz-result-score {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 30px;
        }

        .quiz-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .quiz-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .quiz-btn-secondary {
            background: #e0e0e0;
            color: #666;
        }

        .quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .quiz-setup {
            text-align: center;
        }

        .quiz-setup-option {
            margin: 20px 0;
        }

        .quiz-setup-label {
            display: block;
            font-size: 1.1em;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .quiz-setup-select {
            padding: 10px 20px;
            font-size: 1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
        }

        .quiz-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #667eea;
            border-radius: 10px;
            text-align: center;
            direction: ltr;
            margin: 20px 0;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .flashcard {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 60px 40px;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            margin: 20px 0;
        }

        .flashcard:hover {
            transform: scale(1.02);
        }

        .flashcard-front, .flashcard-back {
            text-align: center;
        }

        .flashcard-verb {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 20px;
            direction: ltr;
        }

        .flashcard-text {
            font-size: 1.3em;
            margin: 10px 0;
        }

        .flashcard-hint {
            font-size: 1em;
            opacity: 0.8;
            margin-top: 20px;
        }

        .flashcard-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .flashcard-btn {
            padding: 12px 30px;
            border: 2px solid white;
            border-radius: 25px;
            background: transparent;
            color: white;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .flashcard-btn:hover {
            background: white;
            color: #667eea;
        }

        .modal-content {
            background-color: white;
            margin: 3% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideDown 0.3s;
            direction: rtl;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close-btn {
            color: #aaa;
            float: left;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
            line-height: 1;
        }

        .close-btn:hover {
            color: #667eea;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
            clear: both;
            padding-top: 10px;
        }

        .modal-verb-title {
            font-size: 2.8em;
            color: #667eea;
            direction: ltr;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .modal-verb-meaning {
            font-size: 1.3em;
            color: #666;
        }

        .derivatives-section {
            margin-top: 30px;
        }

        .derivatives-title {
            font-size: 1.4em;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }

        .derivative-card {
            background: linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .derivative-card:hover {
            border-color: #667eea;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.2);
        }

        .derivative-verb {
            font-size: 1.3em;
            font-weight: bold;
            color: #764ba2;
            direction: ltr;
            text-align: right;
            margin-bottom: 8px;
        }

        .derivative-meaning {
            font-size: 1em;
            color: #333;
            margin-bottom: 8px;
        }

        .derivative-example {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            direction: ltr;
            text-align: right;
            padding-top: 8px;
            border-top: 1px solid #e0e0e0;
        }

        .no-derivatives {
            text-align: center;
            padding: 30px;
            color: #999;
            font-size: 1.1em;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            color: #666;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .verbs-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }

            .baker-dandal {
                font-size: 1em;
            }

            .tabs {
                gap: 3px;
                padding-bottom: 5px;
            }

            .tab-button {
                font-size: 0.75em;
                padding: 10px 8px;
            }

            .modal-content {
                width: 95%;
                margin: 5% auto;
                padding: 20px;
            }

            .modal-verb-title {
                font-size: 2em;
            }

            .search-box {
                font-size: 1em;
                padding: 12px 45px 12px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="darkModeToggle" onclick="toggleDarkMode()">
        ğŸŒ™
    </button>

    <div class="container">
        <div class="branding">
            <div class="baker-dandal">Baker Dandal</div>
        </div>
        <h1>ğŸ‡©ğŸ‡ª Ø£Ù‡Ù… Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©</h1>
        <p class="subtitle">Ù…Ø³ØªÙˆÙ‰ A2-B1 - 234 ÙØ¹Ù„ Ù…Ø¹ Ø­Ø±ÙˆÙ Ø§Ù„Ø¬Ø± ÙˆØ§Ù„Ù…Ø´ØªÙ‚Ø§Øª (ğŸ“Œ Ø§Ø¶ØºØ· Ù„Ù„Ù…Ø´ØªÙ‚Ø§Øª)</p>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="action-btn" onclick="startQuiz()">
                ğŸ¯ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
            <button class="action-btn" onclick="showStats()">
                ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                <span class="stats-badge" id="favCount">0</span>
            </button>
        </div>

        <!-- Search Box -->
        <div class="search-container">
            <div class="search-wrapper">
                <input type="text" 
                       id="searchBox" 
                       class="search-box" 
                       placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ¹Ù„ Ø£Ù„Ù…Ø§Ù†ÙŠ (Ù…Ø«Ø§Ù„: aus)"
                       oninput="searchVerbs()"
                       dir="auto">
                <span class="search-icon">ğŸ”</span>
                <button class="clear-search" id="clearSearch" onclick="clearSearch()">âœ•</button>
            </div>
            <div id="searchResultsInfo" class="search-results-info"></div>
        </div>

        <div class="tabs" id="tabsContainer">
            <button class="tab-button" onclick="openTab(event, 'favorites')">â­ Ø§Ù„Ù…ÙØ¶Ù„Ø© (<span id="favTabCount">0</span>)</button>
            <button class="tab-button active" onclick="openTab(event, 'tab1')">Ù¡. Ø£ÙØ¹Ø§Ù„ ÙŠÙˆÙ…ÙŠØ©</button>
            <button class="tab-button" onclick="openTab(event, 'tab2')">Ù¢. Ø­Ø±ÙƒØ© ÙˆØ§Ù†ØªÙ‚Ø§Ù„</button>
            <button class="tab-button" onclick="openTab(event, 'tab3')">Ù£. Ø£ÙØ¹Ø§Ù„ Ù…Ù†ÙØµÙ„Ø©</button>
            <button class="tab-button" onclick="openTab(event, 'tab4')">Ù¤. ØªÙˆØ§ØµÙ„</button>
            <button class="tab-button" onclick="openTab(event, 'tab5')">Ù¥. Ù…Ø´Ø§Ø¹Ø±</button>
            <button class="tab-button" onclick="openTab(event, 'tab6')">Ù¦. Ù…ÙˆØ¯Ø§Ù„ÙŠØªÙŠ</button>
            <button class="tab-button" onclick="openTab(event, 'tab7')">Ù§. Ø§Ù†Ø¹ÙƒØ§Ø³ÙŠØ©</button>
            <button class="tab-button" onclick="openTab(event, 'tab8')">Ù¨. Ø¯Ø±Ø§Ø³Ø© ÙˆØ¹Ù…Ù„</button>
            <button class="tab-button" onclick="openTab(event, 'tab9')">Ù©. Ø·Ù‚Ø³</button>
            <button class="tab-button" onclick="openTab(event, 'tab10')">Ù¡Ù . Ù…ØªÙ†ÙˆØ¹Ø©</button>
            <button class="tab-button" onclick="openTab(event, 'tab11')">Ù¡Ù¡. ØªÙÙƒÙŠØ±</button>
            <button class="tab-button" onclick="openTab(event, 'tab12')">Ù¡Ù¢. Ø¥Ø­Ø³Ø§Ø³</button>
            <button class="tab-button" onclick="openTab(event, 'tab13')">Ù¡Ù£. ØªÙ†Ø¸ÙŠÙ…</button>
            <button class="tab-button" onclick="openTab(event, 'tab14')">Ù¡Ù¤. Ø·Ù„Ø¨ ÙˆØ¹Ø±Ø¶</button>
            <button class="tab-button" onclick="openTab(event, 'tab15')">Ù¡Ù¥. Ù…Ø´Ø§ÙƒÙ„ ÙˆØ­Ù„ÙˆÙ„</button>
            <button class="tab-button" onclick="openTab(event, 'tab16')">Ù¡Ù¦. ØªÙˆØ§ØµÙ„ Ù…ØªÙ‚Ø¯Ù…</button>
            <button class="tab-button" onclick="openTab(event, 'tab17')">Ù¡Ù§. ØªØºÙŠÙŠØ± ÙˆØªØ·ÙˆÙŠØ±</button>
            <button class="tab-button" onclick="openTab(event, 'tab18')">Ù¡Ù¨. Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</button>
            <button class="tab-button" onclick="openTab(event, 'tab19')">Ù¡Ù©. Ù…Ø§Ù„ ÙˆØ£Ø¹Ù…Ø§Ù„</button>
            <button class="tab-button" onclick="openTab(event, 'tab20')">Ù¢Ù . ØªØ£Ø«ÙŠØ± ÙˆØ³Ø¨Ø¨ÙŠØ©</button>
        </div>

        <!-- Favorites Tab -->
        <div id="favorites" class="tab-content">
            <div class="verbs-grid" id="favoritesGrid"></div>
            <div id="noFavorites" style="text-align: center; padding: 50px; color: #999; display: none;">
                <p style="font-size: 3em;">â­</p>
                <p style="font-size: 1.3em;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙØ¹Ø§Ù„ Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯</p>
                <p style="margin-top: 10px;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¬Ù…Ø© â­ Ø¨Ø¬Ø§Ù†Ø¨ Ø£ÙŠ ÙØ¹Ù„ Ù„Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ù…ÙØ¶Ù„Ø©</p>
            </div>
        </div>

        <!-- Search Results Tab -->
        <div id="searchResults" class="tab-content">
            <div class="verbs-grid" id="searchResultsGrid"></div>
        </div>

        <!-- Tab 1 -->
        <div id="tab1" class="tab-content active">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 2 -->
        <div id="tab2" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 3 -->
        <div id="tab3" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 4 -->
        <div id="tab4" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 5 -->
        <div id="tab5" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 6 -->
        <div id="tab6" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 7 -->
        <div id="tab7" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 8 -->
        <div id="tab8" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 9 -->
        <div id="tab9" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 10 -->
        <div id="tab10" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 11 -->
        <div id="tab11" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 12 -->
        <div id="tab12" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 13 -->
        <div id="tab13" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 14 -->
        <div id="tab14" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 15 -->
        <div id="tab15" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 16 -->
        <div id="tab16" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 17 -->
        <div id="tab17" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 18 -->
        <div id="tab18" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 19 -->
        <div id="tab19" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <!-- Tab 20 -->
        <div id="tab20" class="tab-content">
            <div class="verbs-grid"></div>
        </div>

        <div class="footer">
            <p><strong>ğŸ’¡ Ù†ØµØ§Ø¦Ø­:</strong> Ø§Ø­ÙØ¸ 5-7 Ø£ÙØ¹Ø§Ù„ ÙŠÙˆÙ…ÙŠØ§Ù‹ â€¢ Ø§Ø³ØªØ®Ø¯Ù… ÙƒÙ„ ÙØ¹Ù„ ÙÙŠ Ø¬Ù…Ù„Ø©</p>
            <p>ğŸ¯ Ø­Ø±ÙˆÙ Ø§Ù„Ø¬Ø± Ø¨Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ - Ø§Ø­ÙØ¸Ù‡Ø§ Ù…Ø¹ Ø§Ù„ÙØ¹Ù„ | ğŸ“Œ Ø§Ø¶ØºØ· Ù„Ù„Ù…Ø´ØªÙ‚Ø§Øª | ğŸ” Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙØ¹Ø§Ù„</p>
        </div>
    </div>

    <div id="verbModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <div class="modal-verb-title" id="modalVerbTitle"></div>
                <div class="modal-verb-meaning" id="modalVerbMeaning"></div>
                <div id="modalPrep" style="color: #9333ea; font-weight: 600; margin-top: 10px; direction: ltr; text-align: center;"></div>
            </div>
            <div class="derivatives-section" id="derivativesSection"></div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="quiz-modal">
        <div class="quiz-content">
            <span class="close-btn" onclick="closeQuiz()" style="float: left;">&times;</span>
            
            <!-- Quiz Setup -->
            <div id="quizSetup" class="quiz-setup">
                <h2 style="color: #667eea; margin-bottom: 30px;">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
                
                <div class="quiz-setup-option">
                    <label class="quiz-setup-label">Ù†ÙˆØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                    <select id="quizType" class="quiz-setup-select">
                        <option value="multiple">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ (Ø³Ù‡Ù„) ğŸ“</option>
                        <option value="fillblank">Ø§Ù…Ù„Ø£ Ø§Ù„ÙØ±Ø§Øº (Ù…ØªÙˆØ³Ø·) âœï¸</option>
                        <option value="flashcard">Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ù‚Ù„ÙˆØ¨Ø© (Ù…Ø±Ø§Ø¬Ø¹Ø©) ğŸ”„</option>
                    </select>
                </div>

                <div class="quiz-setup-option">
                    <label class="quiz-setup-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                    <select id="quizQuestionCount" class="quiz-setup-select">
                        <option value="5">5 Ø£Ø³Ø¦Ù„Ø©</option>
                        <option value="10" selected>10 Ø£Ø³Ø¦Ù„Ø©</option>
                        <option value="20">20 Ø³Ø¤Ø§Ù„</option>
                        <option value="50">50 Ø³Ø¤Ø§Ù„</option>
                    </select>
                </div>

                <div class="quiz-setup-option">
                    <label class="quiz-setup-label">Ù…Ù† Ø£ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø©:</label>
                    <select id="quizSource" class="quiz-setup-select">
                        <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„</option>
                        <option value="favorites">Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙÙ‚Ø·</option>
                    </select>
                </div>

                <div class="quiz-buttons">
                    <button class="quiz-btn quiz-btn-primary" onclick="beginQuiz()">
                        ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†
                    </button>
                    <button class="quiz-btn quiz-btn-secondary" onclick="closeQuiz()">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </div>

            <!-- Quiz Question -->
            <div id="quizQuestion" style="display: none;">
                <div class="quiz-progress" id="quizProgress"></div>
                <div class="quiz-score" id="quizScore"></div>
                
                <!-- Multiple Choice Question -->
                <div id="multipleChoiceQuestion" style="display: none;">
                    <div class="quiz-question">
                        <div class="quiz-verb" id="quizVerb"></div>
                        <div class="quiz-question-text">Ù…Ø§ Ù…Ø¹Ù†Ù‰ Ù‡Ø°Ø§ Ø§Ù„ÙØ¹Ù„ØŸ</div>
                    </div>
                    <div class="quiz-options" id="quizOptions"></div>
                </div>

                <!-- Fill in the Blank Question -->
                <div id="fillBlankQuestion" style="display: none;">
                    <div class="quiz-question">
                        <div class="quiz-question-text" style="font-size: 1.1em; margin-bottom: 15px;">Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø§Ù„ÙØ¹Ù„ Ø§Ù„ØµØ­ÙŠØ­:</div>
                        <div class="quiz-verb" id="fillBlankSentence" style="font-size: 1.5em;"></div>
                    </div>
                    <input type="text" id="fillBlankInput" class="quiz-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙØ¹Ù„ Ù‡Ù†Ø§..." />
                    <div style="text-align: center; color: #666; font-size: 0.9em; margin-top: 10px;">
                        ğŸ’¡ Ø§Ù„Ù…Ø¹Ù†Ù‰: <span id="fillBlankHint"></span>
                    </div>
                    <div class="quiz-buttons">
                        <button class="quiz-btn quiz-btn-primary" onclick="checkFillBlank()">
                            âœ“ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
                        </button>
                    </div>
                </div>

                <!-- Flashcard Question -->
                <div id="flashcardQuestion" style="display: none;">
                    <div class="flashcard" id="flashcardContainer" onclick="flipFlashcard()">
                        <div id="flashcardFront" class="flashcard-front">
                            <div class="flashcard-verb" id="flashcardVerb"></div>
                            <div class="flashcard-hint">ğŸ‘† Ø§Ø¶ØºØ· Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</div>
                        </div>
                        <div id="flashcardBack" class="flashcard-back" style="display: none;">
                            <div class="flashcard-text" id="flashcardMeaning" style="font-size: 2em; font-weight: bold;"></div>
                            <div class="flashcard-text" id="flashcardExample" style="margin-top: 20px;"></div>
                            <div class="flashcard-hint">ğŸ‘† Ø§Ø¶ØºØ· Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</div>
                        </div>
                    </div>
                    <div class="flashcard-buttons">
                        <button class="flashcard-btn" onclick="flashcardAnswer(false)">
                            âŒ Ù„Ù… Ø£Ø¹Ø±ÙÙ‡Ø§
                        </button>
                        <button class="flashcard-btn" onclick="flashcardAnswer(true)">
                            âœ“ Ø¹Ø±ÙØªÙ‡Ø§
                        </button>
                    </div>
                </div>

                <div class="quiz-buttons" id="skipButtonContainer">
                    <button class="quiz-btn quiz-btn-secondary" onclick="skipQuestion()">
                        ØªØ®Ø·ÙŠ â­ï¸
                    </button>
                </div>
            </div>

            <!-- Quiz Result -->
            <div id="quizResult" style="display: none;">
                <div class="quiz-result">
                    <div class="quiz-result-icon" id="resultIcon"></div>
                    <div class="quiz-result-text" id="resultText"></div>
                    <div class="quiz-result-score" id="resultScore"></div>
                    
                    <div class="quiz-buttons">
                        <button class="quiz-btn quiz-btn-primary" onclick="startQuiz()">
                            ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯
                        </button>
                        <button class="quiz-btn quiz-btn-secondary" onclick="closeQuiz()">
                            Ø¥Ù†Ù‡Ø§Ø¡
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
// Dark Mode System
function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDark);
    document.getElementById('darkModeToggle').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
}

// Load dark mode preference
function loadDarkMode() {
    const isDark = localStorage.getItem('darkMode') === 'true';
    if (isDark) {
        document.body.classList.add('dark-mode');
        document.getElementById('darkModeToggle').textContent = 'â˜€ï¸';
    }
}

// Confetti System
function createConfetti() {
    const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#43e97b', '#fa709a', '#fee140'];
    const confettiCount = 50;
    
    for (let i = 0; i < confettiCount; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
            confetti.style.width = confetti.style.height = (Math.random() * 10 + 5) + 'px';
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
        }, i * 30);
    }
}

function showSuccessMessage() {
    const messages = [
        "Toll! ğŸŒŸ",
        "Prima! ğŸ¯",
        "Super! ğŸ”¥",
        "Fantastisch! ğŸ’ª",
        "Wunderbar! âœ¨",
        "Bravo! ğŸ‘",
        "Gut gemacht! ğŸš€",
        "Perfekt! â­",
        "Ausgezeichnet! ğŸ’¯",
        "Sehr gut! ğŸ¨",
        "Spitze! ğŸ‰",
        "Klasse! ğŸ’"
    ];
    
    const message = messages[Math.floor(Math.random() * messages.length)];
    const msgElement = document.createElement('div');
    msgElement.className = 'success-message';
    msgElement.textContent = message;
    document.body.appendChild(msgElement);
    
    setTimeout(() => msgElement.remove(), 1000);
}

// Favorites System
let favorites = JSON.parse(localStorage.getItem('germanVerbsFavorites')) || [];

function updateFavoritesCount() {
    document.getElementById('favCount').textContent = favorites.length;
    document.getElementById('favTabCount').textContent = favorites.length;
}

function toggleFavorite(verb, event) {
    if (event) {
        event.stopPropagation();
    }
    
    const index = favorites.findIndex(f => f.verb === verb.verb);
    
    if (index > -1) {
        favorites.splice(index, 1);
    } else {
        favorites.push(verb);
    }
    
    localStorage.setItem('germanVerbsFavorites', JSON.stringify(favorites));
    updateFavoritesCount();
    
    // Refresh favorites tab if it's open
    if (document.getElementById('favorites').classList.contains('active')) {
        renderFavorites();
    }
    
    return favorites.findIndex(f => f.verb === verb.verb) > -1;
}

function isFavorite(verb) {
    return favorites.findIndex(f => f.verb === verb.verb) > -1;
}

function renderFavorites() {
    const grid = document.getElementById('favoritesGrid');
    const noFavMsg = document.getElementById('noFavorites');
    
    grid.innerHTML = '';
    
    if (favorites.length === 0) {
        noFavMsg.style.display = 'block';
        grid.style.display = 'none';
    } else {
        noFavMsg.style.display = 'none';
        grid.style.display = 'grid';
        favorites.forEach(verb => {
            grid.appendChild(renderVerbCard(verb, '', true));
        });
    }
}

// Quiz System
let quizQuestions = [];
let currentQuestionIndex = 0;
let quizScore = 0;
let quizAnswered = false;
let quizType = 'multiple';
let flashcardFlipped = false;

function startQuiz() {
    document.getElementById('quizModal').style.display = 'block';
    document.getElementById('quizSetup').style.display = 'block';
    document.getElementById('quizQuestion').style.display = 'none';
    document.getElementById('quizResult').style.display = 'none';
}

function closeQuiz() {
    document.getElementById('quizModal').style.display = 'none';
}

function beginQuiz() {
    const questionCount = parseInt(document.getElementById('quizQuestionCount').value);
    const source = document.getElementById('quizSource').value;
    quizType = document.getElementById('quizType').value;
    
    // Get verbs based on source
    let verbPool = [];
    if (source === 'favorites') {
        if (favorites.length === 0) {
            alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙØ¹Ø§Ù„ ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©!\nØ£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø£ÙˆÙ„Ø§Ù‹.');
            return;
        }
        verbPool = [...favorites];
    } else {
        Object.keys(verbsData).forEach(tabKey => {
            verbPool = verbPool.concat(verbsData[tabKey]);
        });
    }
    
    // Shuffle and select questions
    quizQuestions = shuffleArray(verbPool).slice(0, Math.min(questionCount, verbPool.length));
    currentQuestionIndex = 0;
    quizScore = 0;
    
    document.getElementById('quizSetup').style.display = 'none';
    document.getElementById('quizQuestion').style.display = 'block';
    
    showQuestion();
}

function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

function showQuestion() {
    if (currentQuestionIndex >= quizQuestions.length) {
        showResult();
        return;
    }
    
    quizAnswered = false;
    flashcardFlipped = false;
    const currentVerb = quizQuestions[currentQuestionIndex];
    
    // Update progress
    document.getElementById('quizProgress').textContent = 
        `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1} Ù…Ù† ${quizQuestions.length}`;
    document.getElementById('quizScore').textContent = 
        `Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${quizScore} / ${currentQuestionIndex}`;
    
    // Hide all question types
    document.getElementById('multipleChoiceQuestion').style.display = 'none';
    document.getElementById('fillBlankQuestion').style.display = 'none';
    document.getElementById('flashcardQuestion').style.display = 'none';
    
    // Show appropriate question type
    if (quizType === 'multiple') {
        showMultipleChoice(currentVerb);
    } else if (quizType === 'fillblank') {
        showFillBlank(currentVerb);
    } else if (quizType === 'flashcard') {
        showFlashcard(currentVerb);
    }
}

function showMultipleChoice(currentVerb) {
    document.getElementById('multipleChoiceQuestion').style.display = 'block';
    document.getElementById('skipButtonContainer').style.display = 'flex';
    
    // Show verb
    document.getElementById('quizVerb').textContent = currentVerb.verb;
    
    // Generate options
    const options = generateOptions(currentVerb);
    const optionsContainer = document.getElementById('quizOptions');
    optionsContainer.innerHTML = '';
    
    options.forEach(option => {
        const btn = document.createElement('button');
        btn.className = 'quiz-option';
        btn.textContent = option.meaning;
        btn.onclick = () => selectAnswer(option, currentVerb, btn);
        optionsContainer.appendChild(btn);
    });
}

function showFillBlank(currentVerb) {
    document.getElementById('fillBlankQuestion').style.display = 'block';
    document.getElementById('skipButtonContainer').style.display = 'none';
    
    // Create sentence with blank
    const sentence = currentVerb.example.replace(new RegExp(currentVerb.verb, 'gi'), '___');
    document.getElementById('fillBlankSentence').textContent = sentence;
    document.getElementById('fillBlankHint').textContent = currentVerb.meaning;
    
    const input = document.getElementById('fillBlankInput');
    input.value = '';
    input.focus();
    input.style.borderColor = '#667eea';
    input.style.background = '';
    input.style.color = '';
    input.disabled = false;
    
    // Force proper styling in dark mode
    if (document.body.classList.contains('dark-mode')) {
        input.style.background = '#1a1a2e';
        input.style.color = '#ffffff';
    } else {
        input.style.background = 'white';
        input.style.color = '#333';
    }
    
    // Allow Enter key to submit
    input.onkeypress = (e) => {
        if (e.key === 'Enter' && !quizAnswered) {
            checkFillBlank();
        }
    };
}

function checkFillBlank() {
    if (quizAnswered) return;
    
    const currentVerb = quizQuestions[currentQuestionIndex];
    const input = document.getElementById('fillBlankInput');
    const userAnswer = input.value.trim().toLowerCase();
    const correctAnswer = currentVerb.verb.toLowerCase();
    
    quizAnswered = true;
    input.disabled = true;
    
    if (userAnswer === correctAnswer) {
        input.style.borderColor = '#28a745';
        input.style.background = '#d4edda';
        quizScore++;
        
        // Trigger confetti and success message
        createConfetti();
        showSuccessMessage();
        
        // Show success message
        const msg = document.createElement('div');
        msg.style.textAlign = 'center';
        msg.style.color = '#28a745';
        msg.style.fontSize = '1.2em';
        msg.style.fontWeight = 'bold';
        msg.style.marginTop = '10px';
        msg.innerHTML = 'âœ“ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
        input.parentElement.appendChild(msg);
    } else {
        input.style.borderColor = '#dc3545';
        input.style.background = '#f8d7da';
        
        // Show correct answer
        const msg = document.createElement('div');
        msg.style.textAlign = 'center';
        msg.style.color = '#dc3545';
        msg.style.fontSize = '1.2em';
        msg.style.fontWeight = 'bold';
        msg.style.marginTop = '10px';
        msg.innerHTML = `âœ— Ø®Ø·Ø£! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: <span style="color: #28a745;">${currentVerb.verb}</span>`;
        input.parentElement.appendChild(msg);
    }
    
    // Move to next question after 2 seconds
    setTimeout(() => {
        currentQuestionIndex++;
        showQuestion();
    }, 2000);
}

function showFlashcard(currentVerb) {
    document.getElementById('flashcardQuestion').style.display = 'block';
    document.getElementById('skipButtonContainer').style.display = 'none';
    
    document.getElementById('flashcardVerb').textContent = currentVerb.verb;
    document.getElementById('flashcardMeaning').textContent = currentVerb.meaning;
    document.getElementById('flashcardExample').textContent = currentVerb.example;
    
    // Reset to front
    document.getElementById('flashcardFront').style.display = 'block';
    document.getElementById('flashcardBack').style.display = 'none';
}

function flipFlashcard() {
    flashcardFlipped = !flashcardFlipped;
    
    if (flashcardFlipped) {
        document.getElementById('flashcardFront').style.display = 'none';
        document.getElementById('flashcardBack').style.display = 'block';
    } else {
        document.getElementById('flashcardFront').style.display = 'block';
        document.getElementById('flashcardBack').style.display = 'none';
    }
}

function flashcardAnswer(isCorrect) {
    if (!flashcardFlipped) {
        alert('âš ï¸ Ø§Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©!');
        return;
    }
    
    if (isCorrect) {
        quizScore++;
        // Trigger confetti and success message
        createConfetti();
        showSuccessMessage();
    }
    
    currentQuestionIndex++;
    showQuestion();
}

function generateOptions(correctVerb) {
    const options = [correctVerb];
    
    // Get all verbs
    let allVerbs = [];
    Object.keys(verbsData).forEach(tabKey => {
        allVerbs = allVerbs.concat(verbsData[tabKey]);
    });
    
    // Add 3 random wrong answers
    while (options.length < 4) {
        const randomVerb = allVerbs[Math.floor(Math.random() * allVerbs.length)];
        if (!options.find(v => v.meaning === randomVerb.meaning)) {
            options.push(randomVerb);
        }
    }
    
    return shuffleArray(options);
}

function selectAnswer(selected, correct, button) {
    if (quizAnswered) return;
    
    quizAnswered = true;
    const allOptions = document.querySelectorAll('.quiz-option');
    
    if (selected.verb === correct.verb) {
        button.classList.add('correct');
        quizScore++;
        
        // Trigger confetti and success message
        createConfetti();
        showSuccessMessage();
    } else {
        button.classList.add('wrong');
        // Highlight correct answer
        allOptions.forEach(opt => {
            if (opt.textContent === correct.meaning) {
                opt.classList.add('correct');
            }
        });
    }
    
    // Disable all options
    allOptions.forEach(opt => opt.classList.add('disabled'));
    
    // Move to next question after 1.5 seconds
    setTimeout(() => {
        currentQuestionIndex++;
        showQuestion();
    }, 1500);
}

function skipQuestion() {
    if (quizAnswered) return;
    currentQuestionIndex++;
    showQuestion();
}

function showResult() {
    document.getElementById('quizQuestion').style.display = 'none';
    document.getElementById('quizResult').style.display = 'block';
    
    const percentage = Math.round((quizScore / quizQuestions.length) * 100);
    
    let icon, text, message;
    if (percentage >= 90) {
        icon = 'ğŸ†';
        text = 'Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ø§Ù‹!';
        message = 'Ø£Ù†Øª Ù…Ø­ØªØ±Ù!';
    } else if (percentage >= 70) {
        icon = 'ğŸ‰';
        text = 'Ø±Ø§Ø¦Ø¹!';
        message = 'Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹';
    } else if (percentage >= 50) {
        icon = 'ğŸ‘';
        text = 'Ø¬ÙŠØ¯';
        message = 'Ø§Ø³ØªÙ…Ø± Ø¨Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©';
    } else {
        icon = 'ğŸ’ª';
        text = 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
        message = 'Ù„Ø§ ØªØ³ØªØ³Ù„Ù…!';
    }
    
    document.getElementById('resultIcon').textContent = icon;
    document.getElementById('resultText').textContent = text;
    document.getElementById('resultScore').innerHTML = 
        `${quizScore} / ${quizQuestions.length}<br>${percentage}%<br><span style="font-size: 0.7em; color: #999;">${message}</span>`;
}

function showStats() {
    let allVerbsCount = 0;
    Object.keys(verbsData).forEach(tabKey => {
        allVerbsCount += verbsData[tabKey].length;
    });
    
    alert(`ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n\nâ­ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…ÙØ¶Ù„Ø©: ${favorites.length}\nğŸ“š Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„: ${allVerbsCount}\nğŸ“ˆ Ù†Ø³Ø¨Ø© Ø§Ù„Ø­ÙØ¸: ${Math.round((favorites.length / allVerbsCount) * 100)}%`);
}

const verbsData = {
    tab1: [ // Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        {verb: "sein", meaning: "ÙŠÙƒÙˆÙ†", example: "Ich bin Lehrer", prep: "", derivatives: []},
        {verb: "haben", meaning: "ÙŠÙ…Ù„Ùƒ", example: "Ich habe Zeit", prep: "", derivatives: []},
        {verb: "werden", meaning: "ÙŠØµØ¨Ø­", example: "Er wird Arzt", prep: "", derivatives: []},
        {verb: "machen", meaning: "ÙŠÙØ¹Ù„ / ÙŠØµÙ†Ø¹", example: "Was machst du?", prep: "", derivatives: [
            {verb: "aufmachen", meaning: "ÙŠÙØªØ­", example: "Mach die TÃ¼r auf!"},
            {verb: "zumachen", meaning: "ÙŠØºÙ„Ù‚", example: "Mach das Fenster zu!"},
            {verb: "anmachen", meaning: "ÙŠØ´ØºÙ‘Ù„", example: "Mach das Licht an!"},
            {verb: "ausmachen", meaning: "ÙŠØ·ÙØ¦", example: "Mach das Licht aus!"}
        ]},
        {verb: "gehen", meaning: "ÙŠØ°Ù‡Ø¨", example: "Ich gehe nach Hause", prep: "", derivatives: [
            {verb: "ausgehen", meaning: "ÙŠØ®Ø±Ø¬", example: "Wir gehen heute aus"},
            {verb: "spazieren gehen", meaning: "ÙŠØªÙ…Ø´Ù‰", example: "Ich gehe spazieren"},
            {verb: "weggehen", meaning: "ÙŠØºØ§Ø¯Ø±", example: "Geh weg!"}
        ]},
        {verb: "kommen", meaning: "ÙŠØ£ØªÙŠ", example: "Er kommt morgen", prep: "", derivatives: [
            {verb: "ankommen", meaning: "ÙŠØµÙ„", example: "Wir kommen um 10 an"},
            {verb: "zurÃ¼ckkommen", meaning: "ÙŠØ¹ÙˆØ¯", example: "Wann kommst du zurÃ¼ck?"},
            {verb: "mitkommen", meaning: "ÙŠØ±Ø§ÙÙ‚", example: "Kommst du mit?"}
        ]},
        {verb: "sehen", meaning: "ÙŠØ±Ù‰", example: "Ich sehe dich", prep: "", derivatives: [
            {verb: "fernsehen", meaning: "ÙŠØ´Ø§Ù‡Ø¯ Ø§Ù„ØªÙ„ÙØ§Ø²", example: "Ich sehe gern fern"},
            {verb: "aussehen", meaning: "ÙŠØ¨Ø¯Ùˆ", example: "Du siehst gut aus!"},
            {verb: "ansehen", meaning: "ÙŠÙ†Ø¸Ø± Ø¥Ù„Ù‰", example: "Sieh mich an!"}
        ]},
        {verb: "nehmen", meaning: "ÙŠØ£Ø®Ø°", example: "Nimm ein Taxi!", prep: "", derivatives: [
            {verb: "mitnehmen", meaning: "ÙŠØ£Ø®Ø° Ù…Ø¹Ù‡", example: "Nimm einen Regenschirm mit!"},
            {verb: "abnehmen", meaning: "ÙŠÙ†Ù‚Øµ", example: "Ich nehme 5 kg ab"},
            {verb: "teilnehmen", meaning: "ÙŠØ´Ø§Ø±Ùƒ", example: "Ich nehme am Kurs teil"}
        ]},
        {verb: "geben", meaning: "ÙŠØ¹Ø·ÙŠ", example: "Gib mir das Buch", prep: "", derivatives: [
            {verb: "aufgeben", meaning: "ÙŠØ³ØªØ³Ù„Ù…", example: "Gib nicht auf!"},
            {verb: "ausgeben", meaning: "ÙŠÙ†ÙÙ‚", example: "Ich gebe viel Geld aus"},
            {verb: "zugeben", meaning: "ÙŠØ¹ØªØ±Ù", example: "Ich gebe meinen Fehler zu"}
        ]},
        {verb: "wissen", meaning: "ÙŠØ¹Ø±Ù", example: "Ich weiÃŸ es nicht", prep: "", derivatives: []},
        {verb: "sagen", meaning: "ÙŠÙ‚ÙˆÙ„", example: "Was sagst du?", prep: "", derivatives: [
            {verb: "absagen", meaning: "ÙŠÙ„ØºÙŠ", example: "Ich sage den Termin ab"},
            {verb: "zusagen", meaning: "ÙŠÙˆØ§ÙÙ‚", example: "Ich sage zu"}
        ]},
        {verb: "arbeiten", meaning: "ÙŠØ¹Ù…Ù„", example: "Ich arbeite bei Siemens", prep: "+ bei (Dativ) / an (Dativ)", derivatives: []},
        {verb: "leben", meaning: "ÙŠØ¹ÙŠØ´", example: "Wo lebst du?", prep: "", derivatives: []},
        {verb: "essen", meaning: "ÙŠØ£ÙƒÙ„", example: "Was isst du gern?", prep: "", derivatives: []},
        {verb: "trinken", meaning: "ÙŠØ´Ø±Ø¨", example: "Ich trinke Kaffee", prep: "", derivatives: []},
        {verb: "schlafen", meaning: "ÙŠÙ†Ø§Ù…", example: "Ich schlafe 8 Stunden", prep: "", derivatives: [
            {verb: "einschlafen", meaning: "ÙŠØºÙÙˆ", example: "Ich schlafe schnell ein"},
            {verb: "verschlafen", meaning: "ÙŠÙ†Ø§Ù… Ø£ÙƒØ«Ø±", example: "Ich habe verschlafen!"}
        ]},
        {verb: "wohnen", meaning: "ÙŠØ³ÙƒÙ†", example: "Ich wohne in Berlin", prep: "+ in (Dativ)", derivatives: []},
        {verb: "heiÃŸen", meaning: "ÙŠÙØ¯Ø¹Ù‰", example: "Wie heiÃŸt du?", prep: "", derivatives: []},
        {verb: "brauchen", meaning: "ÙŠØ­ØªØ§Ø¬", example: "Ich brauche Hilfe", prep: "", derivatives: []},
        {verb: "bleiben", meaning: "ÙŠØ¨Ù‚Ù‰", example: "Bleib hier!", prep: "", derivatives: []},
        {verb: "finden", meaning: "ÙŠØ¬Ø¯", example: "Ich finde es gut", prep: "", derivatives: []},
        {verb: "kaufen", meaning: "ÙŠØ´ØªØ±ÙŠ", example: "Ich kaufe Brot", prep: "", derivatives: [
            {verb: "einkaufen", meaning: "ÙŠØªØ³ÙˆÙ‚", example: "Ich kaufe im Supermarkt ein"},
            {verb: "verkaufen", meaning: "ÙŠØ¨ÙŠØ¹", example: "Ich verkaufe mein Auto"}
        ]},
        {verb: "kosten", meaning: "ÙŠÙƒÙ„Ù", example: "Was kostet das?", prep: "", derivatives: []},
        {verb: "bezahlen", meaning: "ÙŠØ¯ÙØ¹", example: "Ich bezahle fÃ¼r das Essen", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "Ã¶ffnen", meaning: "ÙŠÙØªØ­", example: "Ã–ffne die TÃ¼r!", prep: "", derivatives: []},
        {verb: "schlieÃŸen", meaning: "ÙŠØºÙ„Ù‚", example: "SchlieÃŸ das Fenster!", prep: "", derivatives: []},
        {verb: "beginnen", meaning: "ÙŠØ¨Ø¯Ø£", example: "Ich beginne mit der Arbeit", prep: "+ mit (Dativ)", derivatives: [
            {verb: "anfangen", meaning: "ÙŠØ¨Ø¯Ø£", example: "Ich fange um 9 an"}
        ]},
        {verb: "enden", meaning: "ÙŠÙ†ØªÙ‡ÙŠ", example: "Der Film endet mit Happy End", prep: "+ mit (Dativ)", derivatives: [
            {verb: "aufhÃ¶ren", meaning: "ÙŠØªÙˆÙ‚Ù", example: "HÃ¶r auf!"}
        ]},
        {verb: "dauern", meaning: "ÙŠØ³ØªØºØ±Ù‚", example: "Es dauert 2 Stunden", prep: "", derivatives: []},
        {verb: "passieren", meaning: "ÙŠØ­Ø¯Ø«", example: "Was ist passiert?", prep: "", derivatives: []}
    ],
    
    tab2: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
        {verb: "fahren", meaning: "ÙŠÙ‚ÙˆØ¯ / ÙŠØ³Ø§ÙØ±", example: "Ich fahre mit dem Auto", prep: "+ mit (Dativ) / nach (Dativ)", derivatives: [
            {verb: "abfahren", meaning: "ÙŠØºØ§Ø¯Ø±", example: "Der Zug fÃ¤hrt um 8 ab"},
            {verb: "mitfahren", meaning: "ÙŠØ±ÙƒØ¨ Ù…Ø¹", example: "FÃ¤hrst du mit?"}
        ]},
        {verb: "fliegen", meaning: "ÙŠØ·ÙŠØ±", example: "Wir fliegen nach Paris", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "laufen", meaning: "ÙŠÙ…Ø´ÙŠ / ÙŠØ¬Ø±ÙŠ", example: "Er lÃ¤uft schnell", prep: "", derivatives: [
            {verb: "weglaufen", meaning: "ÙŠÙ‡Ø±Ø¨", example: "Lauf nicht weg!"}
        ]},
        {verb: "rennen", meaning: "ÙŠØ±ÙƒØ¶", example: "Die Kinder rennen", prep: "", derivatives: []},
        {verb: "steigen", meaning: "ÙŠØµØ¹Ø¯", example: "Die Preise steigen", prep: "", derivatives: [
            {verb: "einsteigen", meaning: "ÙŠØ±ÙƒØ¨", example: "Steig ins Auto ein!"},
            {verb: "aussteigen", meaning: "ÙŠÙ†Ø²Ù„", example: "Ich steige hier aus"},
            {verb: "umsteigen", meaning: "ÙŠØºÙŠÙ‘Ø±", example: "Ich steige um"}
        ]},
        {verb: "fallen", meaning: "ÙŠØ³Ù‚Ø·", example: "Der Apfel fÃ¤llt", prep: "", derivatives: [
            {verb: "einfallen", meaning: "ÙŠØ®Ø·Ø± Ø¨Ø¨Ø§Ù„Ù‡", example: "Mir fÃ¤llt etwas ein"}
        ]},
        {verb: "bringen", meaning: "ÙŠÙØ­Ø¶Ø±", example: "Bring mir Wasser!", prep: "", derivatives: [
            {verb: "mitbringen", meaning: "ÙŠØ­Ø¶Ø± Ù…Ø¹Ù‡", example: "Bring Kuchen mit!"},
            {verb: "zurÃ¼ckbringen", meaning: "ÙŠØ¹ÙŠØ¯", example: "Bring das Buch zurÃ¼ck!"}
        ]},
        {verb: "holen", meaning: "ÙŠØ¬Ù„Ø¨", example: "Hol die Tasche!", prep: "", derivatives: [
            {verb: "abholen", meaning: "ÙŠØ³ØªÙ„Ù…", example: "Ich hole dich ab"}
        ]},
        {verb: "tragen", meaning: "ÙŠØ­Ù…Ù„", example: "Ich trage den Koffer", prep: "", derivatives: []},
        {verb: "stellen", meaning: "ÙŠØ¶Ø¹ (ÙˆØ§Ù‚ÙØ§Ù‹)", example: "Stell die Flasche hier", prep: "", derivatives: [
            {verb: "vorstellen", meaning: "ÙŠÙ‚Ø¯Ù‘Ù…", example: "Ich stelle mich vor"}
        ]},
        {verb: "legen", meaning: "ÙŠØ¶Ø¹ (Ù…Ø³ØªÙ„Ù‚ÙŠØ§Ù‹)", example: "Leg das Buch auf den Tisch", prep: "+ auf (Akkusativ)", derivatives: []},
        {verb: "setzen", meaning: "ÙŠÙØ¬Ù„Ø³", example: "Setz dich!", prep: "", derivatives: [
            {verb: "sich setzen", meaning: "ÙŠØ¬Ù„Ø³", example: "Setz dich bitte!"}
        ]},
        {verb: "stehen", meaning: "ÙŠÙ‚Ù", example: "Er steht dort", prep: "", derivatives: [
            {verb: "aufstehen", meaning: "ÙŠÙ†Ù‡Ø¶", example: "Ich stehe um 7 auf"},
            {verb: "verstehen", meaning: "ÙŠÙÙ‡Ù…", example: "Verstehst du mich?"},
            {verb: "bestehen", meaning: "ÙŠÙ†Ø¬Ø­", example: "Ich bestehe die PrÃ¼fung"}
        ]},
        {verb: "liegen", meaning: "ÙŠØ³ØªÙ„Ù‚ÙŠ", example: "Das Buch liegt hier", prep: "", derivatives: []},
        {verb: "sitzen", meaning: "ÙŠØ¬Ù„Ø³", example: "Ich sitze am Fenster", prep: "+ an/bei (Dativ)", derivatives: []}
    ],

    tab3: [ // Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ÙØµÙ„
        {verb: "aufstehen", meaning: "ÙŠØ³ØªÙŠÙ‚Ø¸ / ÙŠÙ†Ù‡Ø¶", example: "Ich stehe um 7 auf", prep: "", derivatives: []},
        {verb: "aufwachen", meaning: "ÙŠØ³ØªÙŠÙ‚Ø¸", example: "Ich wache frÃ¼h auf", prep: "", derivatives: []},
        {verb: "einschlafen", meaning: "ÙŠÙ†Ø§Ù… / ÙŠØºÙÙˆ", example: "Er schlÃ¤ft schnell ein", prep: "", derivatives: []},
        {verb: "ausgehen", meaning: "ÙŠØ®Ø±Ø¬", example: "Wir gehen heute aus", prep: "", derivatives: []},
        {verb: "einkaufen", meaning: "ÙŠØªØ³ÙˆÙ‚", example: "Ich kaufe im Supermarkt ein", prep: "", derivatives: []},
        {verb: "anrufen", meaning: "ÙŠØªØµÙ„", example: "Ruf mich an!", prep: "", derivatives: []},
        {verb: "abholen", meaning: "ÙŠØ³ØªÙ„Ù…", example: "Ich hole dich ab", prep: "", derivatives: []},
        {verb: "mitnehmen", meaning: "ÙŠØ£Ø®Ø° Ù…Ø¹Ù‡", example: "Nimm einen Regenschirm mit!", prep: "", derivatives: []},
        {verb: "zurÃ¼ckkommen", meaning: "ÙŠØ¹ÙˆØ¯", example: "Wann kommst du zurÃ¼ck?", prep: "", derivatives: []},
        {verb: "ankommen", meaning: "ÙŠØµÙ„", example: "Ich komme in Berlin an", prep: "+ in (Dativ)", derivatives: []},
        {verb: "abfahren", meaning: "ÙŠØºØ§Ø¯Ø±", example: "Der Bus fÃ¤hrt um 8 ab", prep: "", derivatives: []},
        {verb: "einsteigen", meaning: "ÙŠØ±ÙƒØ¨", example: "Steig ins Auto ein!", prep: "+ in (Akkusativ)", derivatives: []},
        {verb: "aussteigen", meaning: "ÙŠÙ†Ø²Ù„", example: "Ich steige aus dem Bus aus", prep: "+ aus (Dativ)", derivatives: []},
        {verb: "aufmachen", meaning: "ÙŠÙØªØ­", example: "Mach die TÃ¼r auf!", prep: "", derivatives: []},
        {verb: "zumachen", meaning: "ÙŠØºÙ„Ù‚", example: "Mach das Fenster zu!", prep: "", derivatives: []},
        {verb: "anziehen", meaning: "ÙŠØ±ØªØ¯ÙŠ", example: "Zieh deine Jacke an!", prep: "", derivatives: []},
        {verb: "ausziehen", meaning: "ÙŠØ®Ù„Ø¹", example: "Zieh die Schuhe aus!", prep: "", derivatives: []},
        {verb: "umziehen", meaning: "ÙŠÙ†ØªÙ‚Ù„", example: "Ich ziehe nach Berlin um", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "fernsehen", meaning: "ÙŠØ´Ø§Ù‡Ø¯ Ø§Ù„ØªÙ„ÙØ§Ø²", example: "Ich sehe gern fern", prep: "", derivatives: []},
        {verb: "vorbereiten", meaning: "ÙŠÙØ­Ø¶Ù‘Ø±", example: "Ich bereite mich auf die PrÃ¼fung vor", prep: "+ auf (Akkusativ)", derivatives: []}
    ],

    tab4: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„
        {verb: "sprechen", meaning: "ÙŠØªØ­Ø¯Ø«", example: "Ich spreche mit ihm Ã¼ber Politik", prep: "+ mit (Dativ) / Ã¼ber (Akkusativ)", derivatives: [
            {verb: "besprechen", meaning: "ÙŠÙ†Ø§Ù‚Ø´", example: "Wir besprechen das Problem"}
        ]},
        {verb: "reden", meaning: "ÙŠØªÙƒÙ„Ù…", example: "Wir reden Ã¼ber Politik", prep: "+ mit (Dativ) / Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "erzÃ¤hlen", meaning: "ÙŠØ±ÙˆÙŠ / ÙŠØ­ÙƒÙŠ", example: "ErzÃ¤hl mir von deiner Reise!", prep: "+ von (Dativ)", derivatives: []},
        {verb: "fragen", meaning: "ÙŠØ³Ø£Ù„", example: "Ich frage nach dem Weg", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "antworten", meaning: "ÙŠØ¬ÙŠØ¨", example: "Antworte auf die Frage!", prep: "+ auf (Akkusativ)", derivatives: [
            {verb: "beantworten", meaning: "ÙŠØ¬ÙŠØ¨ Ø¹Ù„Ù‰", example: "Beantworte meine Frage!"}
        ]},
        {verb: "erklÃ¤ren", meaning: "ÙŠØ´Ø±Ø­", example: "ErklÃ¤re mir das!", prep: "", derivatives: []},
        {verb: "verstehen", meaning: "ÙŠÙÙ‡Ù…", example: "Verstehst du mich?", prep: "", derivatives: []},
        {verb: "hÃ¶ren", meaning: "ÙŠØ³Ù…Ø¹", example: "Ich hÃ¶re Musik", prep: "", derivatives: [
            {verb: "zuhÃ¶ren", meaning: "ÙŠÙÙ†ØµØª", example: "HÃ¶r mir zu!"}
        ]},
        {verb: "zuhÃ¶ren", meaning: "ÙŠÙÙ†ØµØª", example: "HÃ¶r mir zu!", prep: "", derivatives: []},
        {verb: "schreiben", meaning: "ÙŠÙƒØªØ¨", example: "Ich schreibe an meinen Freund", prep: "+ an (Akkusativ)", derivatives: [
            {verb: "aufschreiben", meaning: "ÙŠØ¯ÙˆÙ‘Ù†", example: "Schreib die Adresse auf!"},
            {verb: "beschreiben", meaning: "ÙŠØµÙ", example: "Beschreib mir dein Auto!"}
        ]},
        {verb: "lesen", meaning: "ÙŠÙ‚Ø±Ø£", example: "Ich lese ein Buch", prep: "", derivatives: [
            {verb: "vorlesen", meaning: "ÙŠÙ‚Ø±Ø£ Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù", example: "Lies mir vor!"}
        ]},
        {verb: "meinen", meaning: "ÙŠØ¹Ù†ÙŠ / ÙŠÙ‚ØµØ¯", example: "Was meinst du?", prep: "", derivatives: []},
        {verb: "glauben", meaning: "ÙŠØ¹ØªÙ‚Ø¯ / ÙŠØ¤Ù…Ù†", example: "Ich glaube an dich", prep: "+ an (Akkusativ)", derivatives: []},
        {verb: "denken", meaning: "ÙŠÙÙƒØ±", example: "Ich denke an dich", prep: "+ an (Akkusativ) / Ã¼ber (Akkusativ)", derivatives: [
            {verb: "nachdenken", meaning: "ÙŠØªØ£Ù…Ù„", example: "Denk darÃ¼ber nach!"}
        ]},
        {verb: "kennen", meaning: "ÙŠØ¹Ø±Ù (Ø´Ø®Øµ/Ù…ÙƒØ§Ù†)", example: "Ich kenne ihn gut", prep: "", derivatives: [
            {verb: "erkennen", meaning: "ÙŠØªØ¹Ø±Ù Ø¹Ù„Ù‰", example: "Ich erkenne ihn"}
        ]}
    ],

    tab5: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…Ø´Ø§Ø¹Ø± ÙˆØ§Ù„Ø­Ø§Ù„Ø§Øª
        {verb: "mÃ¶gen", meaning: "ÙŠØ­Ø¨", example: "Ich mag Pizza", prep: "", derivatives: []},
        {verb: "lieben", meaning: "ÙŠØ­Ø¨ (Ø¨Ø´Ø¯Ø©)", example: "Ich liebe dich", prep: "", derivatives: []},
        {verb: "hassen", meaning: "ÙŠÙƒØ±Ù‡", example: "Ich hasse Montage", prep: "", derivatives: []},
        {verb: "sich freuen", meaning: "ÙŠÙØ±Ø­", example: "Ich freue mich auf morgen", prep: "+ auf (Akkusativ) / Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "sich Ã¤rgern", meaning: "ÙŠØºØ¶Ø¨ / ÙŠÙ†Ø²Ø¹Ø¬", example: "Ich Ã¤rgere mich Ã¼ber das Wetter", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "sich interessieren", meaning: "ÙŠÙ‡ØªÙ…", example: "Ich interessiere mich fÃ¼r Musik", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "hoffen", meaning: "ÙŠØ£Ù…Ù„", example: "Ich hoffe auf gutes Wetter", prep: "+ auf (Akkusativ)", derivatives: []},
        {verb: "wÃ¼nschen", meaning: "ÙŠØªÙ…Ù†Ù‰", example: "Ich wÃ¼nsche dir GlÃ¼ck", prep: "", derivatives: []},
        {verb: "sich fÃ¼hlen", meaning: "ÙŠØ´Ø¹Ø±", example: "Wie fÃ¼hlst du dich?", prep: "", derivatives: []},
        {verb: "lachen", meaning: "ÙŠØ¶Ø­Ùƒ", example: "Er lacht Ã¼ber den Witz", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "weinen", meaning: "ÙŠØ¨ÙƒÙŠ", example: "Das Baby weint", prep: "", derivatives: []},
        {verb: "sich treffen", meaning: "ÙŠØªÙ‚Ø§Ø¨Ù„", example: "Wir treffen uns mit Freunden", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "helfen", meaning: "ÙŠØ³Ø§Ø¹Ø¯", example: "Kannst du mir bei den Hausaufgaben helfen?", prep: "+ bei (Dativ)", derivatives: []},
        {verb: "danken", meaning: "ÙŠØ´ÙƒØ±", example: "Ich danke dir fÃ¼r deine Hilfe", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "gratulieren", meaning: "ÙŠÙ‡Ù†Ø¦", example: "Ich gratuliere dir zum Geburtstag", prep: "+ zu (Dativ)", derivatives: []}
    ],

    tab6: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ÙŠØªÙŠ
        {verb: "kÃ¶nnen", meaning: "ÙŠØ³ØªØ·ÙŠØ¹", example: "Ich kann schwimmen", prep: "", derivatives: []},
        {verb: "mÃ¼ssen", meaning: "ÙŠØ¬Ø¨", example: "Ich muss gehen", prep: "", derivatives: []},
        {verb: "sollen", meaning: "ÙŠÙ†Ø¨ØºÙŠ", example: "Du sollst lernen", prep: "", derivatives: []},
        {verb: "dÃ¼rfen", meaning: "ÙŠÙØ³Ù…Ø­ Ù„Ù‡", example: "Darf ich fragen?", prep: "", derivatives: []},
        {verb: "wollen", meaning: "ÙŠØ±ÙŠØ¯", example: "Ich will nach Hause", prep: "", derivatives: []},
        {verb: "mÃ¶gen / mÃ¶chten", meaning: "ÙŠØ­Ø¨ / ÙŠÙˆØ¯", example: "Ich mÃ¶chte Kaffee", prep: "", derivatives: []},
        {verb: "lassen", meaning: "ÙŠØªØ±Ùƒ / ÙŠØ¯Ø¹", example: "Lass mich in Ruhe!", prep: "", derivatives: []}
    ],

    tab7: [ // Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø§Ù†Ø¹ÙƒØ§Ø³ÙŠØ©
        {verb: "sich waschen", meaning: "ÙŠØºØ³Ù„ Ù†ÙØ³Ù‡", example: "Ich wasche mir die HÃ¤nde", prep: "", derivatives: []},
        {verb: "sich duschen", meaning: "ÙŠØ³ØªØ­Ù…", example: "Ich dusche mich morgens", prep: "", derivatives: []},
        {verb: "sich anziehen", meaning: "ÙŠØ±ØªØ¯ÙŠ Ù…Ù„Ø§Ø¨Ø³Ù‡", example: "Zieh dich schnell an!", prep: "", derivatives: []},
        {verb: "sich ausziehen", meaning: "ÙŠØ®Ù„Ø¹ Ù…Ù„Ø§Ø¨Ø³Ù‡", example: "Zieh dich aus!", prep: "", derivatives: []},
        {verb: "sich setzen", meaning: "ÙŠØ¬Ù„Ø³", example: "Setz dich bitte!", prep: "", derivatives: []},
        {verb: "sich hinlegen", meaning: "ÙŠØ³ØªÙ„Ù‚ÙŠ", example: "Ich lege mich ins Bett", prep: "", derivatives: []},
        {verb: "sich erholen", meaning: "ÙŠØ³ØªØ±ÙŠØ­", example: "Ich erhole mich von der Arbeit", prep: "+ von (Dativ)", derivatives: []},
        {verb: "sich erinnern", meaning: "ÙŠØªØ°ÙƒØ±", example: "Erinnerst du dich an mich?", prep: "+ an (Akkusativ)", derivatives: []},
        {verb: "sich entscheiden", meaning: "ÙŠÙ‚Ø±Ø±", example: "Ich entscheide mich fÃ¼r Option A", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "sich beschweren", meaning: "ÙŠØ´ØªÙƒÙŠ", example: "Er beschwert sich Ã¼ber den Service", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "sich verabreden", meaning: "ÙŠØ­Ø¯Ø¯ Ù…ÙˆØ¹Ø¯Ø§Ù‹", example: "Wir verabreden uns mit Freunden", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "sich verspÃ¤ten", meaning: "ÙŠØªØ£Ø®Ø±", example: "Ich verspÃ¤te mich", prep: "", derivatives: []}
    ],

    tab8: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙˆØ§Ù„Ø¹Ù…Ù„
        {verb: "lernen", meaning: "ÙŠØªØ¹Ù„Ù…", example: "Ich lerne Deutsch", prep: "", derivatives: []},
        {verb: "studieren", meaning: "ÙŠØ¯Ø±Ø³ (Ø¬Ø§Ù…Ø¹ÙŠØ§Ù‹)", example: "Ich studiere Medizin", prep: "", derivatives: []},
        {verb: "Ã¼ben", meaning: "ÙŠØªØ¯Ø±Ø¨", example: "Ich Ã¼be jeden Tag", prep: "", derivatives: []},
        {verb: "wiederholen", meaning: "ÙŠÙƒØ±Ø±", example: "Wiederhole bitte!", prep: "", derivatives: []},
        {verb: "unterrichten", meaning: "ÙŠØ¯Ø±Ù‘Ø³", example: "Er unterrichtet Mathematik", prep: "", derivatives: []},
        {verb: "lehren", meaning: "ÙŠÙØ¹Ù„Ù‘Ù…", example: "Sie lehrt Deutsch", prep: "", derivatives: []},
        {verb: "prÃ¼fen", meaning: "ÙŠØ®ØªØ¨Ø± / ÙŠÙØ­Øµ", example: "Der Lehrer prÃ¼ft uns", prep: "", derivatives: []},
        {verb: "bestehen", meaning: "ÙŠÙ†Ø¬Ø­ / ÙŠØ¬ØªØ§Ø²", example: "Ich bestehe die PrÃ¼fung", prep: "+ aus (Dativ)", derivatives: []},
        {verb: "verdienen", meaning: "ÙŠÙƒØ³Ø¨ / ÙŠØ³ØªØ­Ù‚", example: "Ich verdiene 2000 Euro", prep: "", derivatives: []},
        {verb: "suchen", meaning: "ÙŠØ¨Ø­Ø«", example: "Ich suche nach Arbeit", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "sich bewerben", meaning: "ÙŠØªÙ‚Ø¯Ù… (Ù„ÙˆØ¸ÙŠÙØ©)", example: "Ich bewerbe mich um die Stelle", prep: "+ um (Akkusativ) / bei (Dativ)", derivatives: []}
    ],

    tab9: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø·Ù‚Ø³ ÙˆØ§Ù„Ø·Ø¨ÙŠØ¹Ø©
        {verb: "regnen", meaning: "ØªÙ…Ø·Ø±", example: "Es regnet heute", prep: "", derivatives: []},
        {verb: "schneien", meaning: "ØªØ«Ù„Ø¬", example: "Es schneit im Winter", prep: "", derivatives: []},
        {verb: "scheinen", meaning: "ØªØ´Ø±Ù‚", example: "Die Sonne scheint", prep: "", derivatives: []},
        {verb: "wachsen", meaning: "ÙŠÙ†Ù…Ùˆ", example: "Die Pflanzen wachsen", prep: "", derivatives: []},
        {verb: "blÃ¼hen", meaning: "ÙŠØ²Ù‡Ø±", example: "Die Rosen blÃ¼hen", prep: "", derivatives: []},
        {verb: "brennen", meaning: "ÙŠØ­ØªØ±Ù‚", example: "Das Feuer brennt", prep: "", derivatives: []},
        {verb: "leuchten", meaning: "ÙŠØ¶ÙŠØ¡ / ÙŠØªÙˆÙ‡Ø¬", example: "Die Lampe leuchtet hell", prep: "", derivatives: []},
        {verb: "steigen", meaning: "ÙŠØ±ØªÙØ¹", example: "Die Preise steigen", prep: "", derivatives: []}
    ],

    tab10: [ // Ø£ÙØ¹Ø§Ù„ Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù‡Ù…Ø©
        {verb: "versuchen", meaning: "ÙŠØ­Ø§ÙˆÙ„", example: "Ich versuche es noch mal", prep: "", derivatives: []},
        {verb: "probieren", meaning: "ÙŠØ¬Ø±Ø¨", example: "Probier mal!", prep: "", derivatives: []},
        {verb: "gewinnen", meaning: "ÙŠÙÙˆØ² / ÙŠØ±Ø¨Ø­", example: "Wir gewinnen das Spiel", prep: "", derivatives: []},
        {verb: "verlieren", meaning: "ÙŠØ®Ø³Ø±", example: "Ich verliere mein Handy", prep: "", derivatives: []},
        {verb: "Ã¤ndern", meaning: "ÙŠØºÙŠØ±", example: "Ich Ã¤ndere meinen Plan", prep: "", derivatives: []},
        {verb: "verbessern", meaning: "ÙŠØ­Ø³Ù‘Ù†", example: "Ich verbessere mein Deutsch", prep: "", derivatives: []},
        {verb: "reparieren", meaning: "ÙŠØµÙ„Ø­", example: "Ich repariere mein Auto", prep: "", derivatives: []},
        {verb: "kaputtmachen", meaning: "ÙŠÙƒØ³Ø±", example: "Mach es nicht kaputt!", prep: "", derivatives: []},
        {verb: "vergessen", meaning: "ÙŠÙ†Ø³Ù‰", example: "Vergiss nicht!", prep: "", derivatives: []},
        {verb: "erinnern", meaning: "ÙŠØ°ÙƒÙ‘Ø±", example: "Erinnere mich an den Termin!", prep: "+ an (Akkusativ)", derivatives: []},
        {verb: "zeigen", meaning: "ÙŠÙØ¸Ù‡Ø± / ÙŠÙØ±ÙŠ", example: "Zeig mir das Foto!", prep: "", derivatives: []},
        {verb: "benutzen", meaning: "ÙŠØ³ØªØ®Ø¯Ù…", example: "Ich benutze mein Handy", prep: "", derivatives: []},
        {verb: "sparen", meaning: "ÙŠÙˆÙØ± / ÙŠØ¯Ø®Ø±", example: "Ich spare Geld", prep: "", derivatives: []},
        {verb: "ausgeben", meaning: "ÙŠÙ†ÙÙ‚", example: "Ich gebe viel Geld fÃ¼r Kleidung aus", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "erlauben", meaning: "ÙŠØ³Ù…Ø­", example: "Meine Eltern erlauben es", prep: "", derivatives: []}
    ],

    tab11: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙÙƒÙŠØ± ÙˆØ§Ù„Ø±Ø£ÙŠ
        {verb: "Ã¼berlegen", meaning: "ÙŠÙÙƒØ± / ÙŠØªØ£Ù…Ù„", example: "Ich Ã¼berlege mir das", prep: "", derivatives: []},
        {verb: "vorhaben", meaning: "ÙŠÙ†ÙˆÙŠ / ÙŠØ®Ø·Ø·", example: "Was hast du heute vor?", prep: "", derivatives: []},
        {verb: "nachdenken", meaning: "ÙŠØªØ£Ù…Ù„ / ÙŠÙÙƒØ± Ù…Ù„ÙŠÙ‘Ø§Ù‹", example: "Denk Ã¼ber das Problem nach!", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "sich vorstellen", meaning: "ÙŠØªØ®ÙŠÙ„ / ÙŠØªØµÙˆØ±", example: "Ich stelle mir das vor", prep: "", derivatives: []},
        {verb: "erwarten", meaning: "ÙŠØªÙˆÙ‚Ø¹", example: "Ich erwarte viel von dir", prep: "+ von (Dativ)", derivatives: []},
        {verb: "vermuten", meaning: "ÙŠÙØªØ±Ø¶ / ÙŠØ¸Ù†", example: "Ich vermute, dass er kommt", prep: "", derivatives: []},
        {verb: "annehmen", meaning: "ÙŠÙØªØ±Ø¶", example: "Ich nehme an, dass...", prep: "", derivatives: []},
        {verb: "zweifeln", meaning: "ÙŠØ´Ùƒ", example: "Ich zweifle an seiner Ehrlichkeit", prep: "+ an (Dativ)", derivatives: []},
        {verb: "befÃ¼rchten", meaning: "ÙŠØ®Ø´Ù‰", example: "Ich befÃ¼rchte das Schlimmste", prep: "", derivatives: []},
        {verb: "vorschlagen", meaning: "ÙŠÙ‚ØªØ±Ø­", example: "Ich schlage vor, dass wir gehen", prep: "", derivatives: []},
        {verb: "empfehlen", meaning: "ÙŠÙ†ØµØ­ / ÙŠÙˆØµÙŠ", example: "Ich empfehle dir dieses Buch", prep: "", derivatives: []},
        {verb: "raten", meaning: "ÙŠÙ†ØµØ­", example: "Ich rate dir zu warten", prep: "+ zu (Dativ)", derivatives: []},
        {verb: "warnen", meaning: "ÙŠØ­Ø°Ù‘Ø±", example: "Ich warne dich vor der Gefahr!", prep: "+ vor (Dativ)", derivatives: []},
        {verb: "behaupten", meaning: "ÙŠØ²Ø¹Ù… / ÙŠØ¯Ù‘Ø¹ÙŠ", example: "Er behauptet, dass...", prep: "", derivatives: []},
        {verb: "widersprechen", meaning: "ÙŠÙ†Ø§Ù‚Ø¶ / ÙŠØ¹Ø§Ø±Ø¶", example: "Ich widerspreche dir", prep: "+ Dativ", derivatives: []},
        {verb: "entscheiden", meaning: "ÙŠÙ‚Ø±Ø±", example: "Ich entscheide mich dafÃ¼r", prep: "", derivatives: []}
    ],

    tab12: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ ÙˆØ§Ù„Ø¥Ø¯Ø±Ø§Ùƒ
        {verb: "bemerken", meaning: "ÙŠÙ„Ø§Ø­Ø¸", example: "Hast du das bemerkt?", prep: "", derivatives: []},
        {verb: "merken", meaning: "ÙŠÙ„Ø§Ø­Ø¸ / ÙŠØ´Ø¹Ø±", example: "Ich merke nichts", prep: "", derivatives: []},
        {verb: "spÃ¼ren", meaning: "ÙŠØ´Ø¹Ø± / ÙŠØ­Ø³", example: "Ich spÃ¼re Schmerzen", prep: "", derivatives: []},
        {verb: "riechen", meaning: "ÙŠØ´Ù…", example: "Es riecht nach Kaffee", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "schmecken", meaning: "ÙŠØªØ°ÙˆÙ‚", example: "Das schmeckt nach Schokolade", prep: "+ nach (Dativ)", derivatives: []},
        {verb: "berÃ¼hren", meaning: "ÙŠÙ„Ù…Ø³", example: "BerÃ¼hr das nicht!", prep: "", derivatives: []},
        {verb: "erkennen", meaning: "ÙŠØªØ¹Ø±Ù / ÙŠØ¯Ø±Ùƒ", example: "Ich erkenne ihn an seiner Stimme", prep: "+ an (Dativ)", derivatives: []},
        {verb: "wahrnehmen", meaning: "ÙŠØ¯Ø±Ùƒ / ÙŠÙ„Ø§Ø­Ø¸", example: "Ich nehme eine VerÃ¤nderung wahr", prep: "", derivatives: []},
        {verb: "beobachten", meaning: "ÙŠØ±Ø§Ù‚Ø¨", example: "Ich beobachte die VÃ¶gel", prep: "", derivatives: []},
        {verb: "betrachten", meaning: "ÙŠÙ†Ø¸Ø± Ø¥Ù„Ù‰ / ÙŠØªØ£Ù…Ù„", example: "Betrachte das Bild!", prep: "", derivatives: []},
        {verb: "schauen", meaning: "ÙŠÙ†Ø¸Ø±", example: "Schau auf die Tafel!", prep: "+ auf (Akkusativ)", derivatives: []},
        {verb: "achten", meaning: "ÙŠÙ†ØªØ¨Ù‡ Ø¥Ù„Ù‰", example: "Achte auf den Verkehr!", prep: "+ auf (Akkusativ)", derivatives: []}
    ],

    tab13: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… ÙˆØ§Ù„ØªØ±ØªÙŠØ¨
        {verb: "planen", meaning: "ÙŠØ®Ø·Ø·", example: "Ich plane eine Reise", prep: "", derivatives: []},
        {verb: "organisieren", meaning: "ÙŠÙ†Ø¸Ù…", example: "Wer organisiert die Party?", prep: "", derivatives: []},
        {verb: "vorbereiten", meaning: "ÙŠÙØ­Ø¶Ù‘Ø±", example: "Ich bereite das Essen vor", prep: "", derivatives: []},
        {verb: "ordnen", meaning: "ÙŠØ±ØªØ¨", example: "Ordne deine Sachen!", prep: "", derivatives: []},
        {verb: "sortieren", meaning: "ÙŠØµÙ†Ù‘Ù", example: "Ich sortiere die Dateien", prep: "", derivatives: []},
        {verb: "aufrÃ¤umen", meaning: "ÙŠØ±ØªØ¨ / ÙŠÙ†Ø¸Ù", example: "RÃ¤um dein Zimmer auf!", prep: "", derivatives: []},
        {verb: "putzen", meaning: "ÙŠÙ†Ø¸Ù", example: "Ich putze die Wohnung", prep: "", derivatives: []},
        {verb: "reinigen", meaning: "ÙŠÙ†Ø¸Ù (Ø±Ø³Ù…ÙŠ)", example: "Die Reinigungskraft reinigt", prep: "", derivatives: []},
        {verb: "waschen", meaning: "ÙŠØºØ³Ù„", example: "Ich wasche die WÃ¤sche", prep: "", derivatives: []},
        {verb: "trocknen", meaning: "ÙŠØ¬ÙÙ", example: "Trockne die Teller!", prep: "", derivatives: []},
        {verb: "bÃ¼geln", meaning: "ÙŠÙƒÙˆÙŠ", example: "Ich bÃ¼gle mein Hemd", prep: "", derivatives: []},
        {verb: "packen", meaning: "ÙŠØ­Ø²Ù… / ÙŠØ¹Ø¨Ù‘Ø¦", example: "Ich packe meinen Koffer", prep: "", derivatives: []}
    ],

    tab14: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¹Ø±Ø¶
        {verb: "bitten", meaning: "ÙŠØ·Ù„Ø¨ (Ø¨Ø£Ø¯Ø¨)", example: "Ich bitte dich um Hilfe", prep: "+ um (Akkusativ)", derivatives: []},
        {verb: "fordern", meaning: "ÙŠØ·Ø§Ù„Ø¨", example: "Die Arbeiter fordern mehr Lohn", prep: "", derivatives: []},
        {verb: "verlangen", meaning: "ÙŠØ·Ù„Ø¨ / ÙŠØªØ·Ù„Ø¨", example: "Was verlangst du von mir?", prep: "+ von (Dativ)", derivatives: []},
        {verb: "bestellen", meaning: "ÙŠØ·Ù„Ø¨ / ÙŠØ­Ø¬Ø²", example: "Ich bestelle eine Pizza", prep: "", derivatives: []},
        {verb: "reservieren", meaning: "ÙŠØ­Ø¬Ø²", example: "Ich reserviere einen Tisch", prep: "", derivatives: []},
        {verb: "buchen", meaning: "ÙŠØ­Ø¬Ø²", example: "Ich buche einen Flug", prep: "", derivatives: []},
        {verb: "anbieten", meaning: "ÙŠØ¹Ø±Ø¶", example: "Ich biete dir meine Hilfe an", prep: "", derivatives: []},
        {verb: "vorschlagen", meaning: "ÙŠÙ‚ØªØ±Ø­", example: "Ich schlage ein Treffen vor", prep: "", derivatives: []},
        {verb: "ablehnen", meaning: "ÙŠØ±ÙØ¶", example: "Ich lehne das Angebot ab", prep: "", derivatives: []},
        {verb: "akzeptieren", meaning: "ÙŠÙ‚Ø¨Ù„", example: "Ich akzeptiere deine Entschuldigung", prep: "", derivatives: []}
    ],

    tab15: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ÙˆØ§Ù„Ø­Ù„ÙˆÙ„
        {verb: "lÃ¶sen", meaning: "ÙŠØ­Ù„", example: "Ich lÃ¶se das Problem", prep: "", derivatives: []},
        {verb: "klÃ¤ren", meaning: "ÙŠÙˆØ¶Ø­ / ÙŠØ­Ù„", example: "Wir klÃ¤ren das MissverstÃ¤ndnis", prep: "", derivatives: []},
        {verb: "beheben", meaning: "ÙŠØµÙ„Ø­ / ÙŠØ¹Ø§Ù„Ø¬", example: "Der Fehler wurde behoben", prep: "", derivatives: []},
        {verb: "funktionieren", meaning: "ÙŠØ¹Ù…Ù„ (Ø¢Ù„Ø©)", example: "Das Handy funktioniert nicht", prep: "", derivatives: []},
        {verb: "klappen", meaning: "ÙŠÙ†Ø¬Ø­ / ÙŠØ³ÙŠØ± Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯", example: "Hat alles geklappt?", prep: "", derivatives: []},
        {verb: "scheitern", meaning: "ÙŠÙØ´Ù„", example: "Der Plan ist gescheitert", prep: "+ an (Dativ)", derivatives: []},
        {verb: "misslingen", meaning: "Ù„Ø§ ÙŠÙ†Ø¬Ø­ / ÙŠÙØ´Ù„", example: "Der Versuch ist misslungen", prep: "", derivatives: []},
        {verb: "gelingen", meaning: "ÙŠÙ†Ø¬Ø­", example: "Es ist mir gelungen!", prep: "", derivatives: []},
        {verb: "schaffen", meaning: "ÙŠÙ†Ø¬Ø² / ÙŠØ³ØªØ·ÙŠØ¹", example: "Ich schaffe das!", prep: "", derivatives: []},
        {verb: "erreichen", meaning: "ÙŠØµÙ„ Ø¥Ù„Ù‰ / ÙŠØ­Ù‚Ù‚", example: "Ich erreiche mein Ziel", prep: "", derivatives: []},
        {verb: "erfÃ¼llen", meaning: "ÙŠØ­Ù‚Ù‚ / ÙŠÙÙ†Ø¬Ø²", example: "Ich erfÃ¼lle meinen Traum", prep: "", derivatives: []},
        {verb: "vermeiden", meaning: "ÙŠØªØ¬Ù†Ø¨", example: "Vermeide Fehler!", prep: "", derivatives: []}
    ],

    tab16: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        {verb: "informieren", meaning: "ÙŠÙØ¹Ù„Ù… / ÙŠÙØ®Ø¨Ø±", example: "Ich informiere dich Ã¼ber die Ã„nderung", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "mitteilen", meaning: "ÙŠÙØ¨Ù„Ù‘Øº", example: "Ich teile dir etwas mit", prep: "", derivatives: []},
        {verb: "beschreiben", meaning: "ÙŠØµÙ", example: "Beschreib mir dein Auto!", prep: "", derivatives: []},
        {verb: "berichten", meaning: "ÙŠÙØ¨Ù„Ù‘Øº / ÙŠØ°ÙƒØ±", example: "Die Zeitung berichtet Ã¼ber das Ereignis", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "erwÃ¤hnen", meaning: "ÙŠØ°ÙƒØ±", example: "Er hat das nicht erwÃ¤hnt", prep: "", derivatives: []},
        {verb: "betonen", meaning: "ÙŠÙØ´Ø¯Ø¯ Ø¹Ù„Ù‰", example: "Ich betone, dass...", prep: "", derivatives: []},
        {verb: "hinweisen", meaning: "ÙŠÙØ´ÙŠØ± Ø¥Ù„Ù‰", example: "Ich weise auf die Gefahr hin", prep: "+ auf (Akkusativ)", derivatives: []},
        {verb: "zugeben", meaning: "ÙŠØ¹ØªØ±Ù", example: "Ich gebe meinen Fehler zu", prep: "", derivatives: []},
        {verb: "leugnen", meaning: "ÙŠÙ†ÙƒØ±", example: "Er leugnet die Tat", prep: "", derivatives: []},
        {verb: "bestÃ¤tigen", meaning: "ÙŠØ¤ÙƒØ¯", example: "BestÃ¤tige deine E-Mail!", prep: "", derivatives: []}
    ],

    tab17: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØºÙŠÙŠØ± ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±
        {verb: "entwickeln", meaning: "ÙŠØ·ÙˆÙ‘Ø±", example: "Wir entwickeln neue Produkte", prep: "", derivatives: [
            {verb: "sich entwickeln", meaning: "ÙŠØªØ·ÙˆØ±", example: "Die Technologie entwickelt sich schnell"}
        ]},
        {verb: "wachsen", meaning: "ÙŠÙ†Ù…Ùˆ", example: "Die Wirtschaft wÃ¤chst", prep: "", derivatives: []},
        {verb: "zunehmen", meaning: "ÙŠØ²Ø¯Ø§Ø¯", example: "Die BevÃ¶lkerung nimmt zu", prep: "", derivatives: []},
        {verb: "abnehmen", meaning: "ÙŠÙ†Ù‚Øµ", example: "Die Zahl nimmt ab", prep: "", derivatives: []},
        {verb: "sich erhÃ¶hen", meaning: "ÙŠØ±ØªÙØ¹", example: "Die Preise erhÃ¶hen sich", prep: "", derivatives: []},
        {verb: "sinken", meaning: "ÙŠÙ†Ø®ÙØ¶", example: "Die Temperatur sinkt", prep: "", derivatives: []},
        {verb: "reduzieren", meaning: "ÙŠØ®ÙÙ‘Ø¶", example: "Wir reduzieren die Kosten", prep: "", derivatives: []},
        {verb: "verringern", meaning: "ÙŠÙ‚Ù„Ù‘Ù„", example: "Wir verringern den Verbrauch", prep: "", derivatives: []},
        {verb: "erweitern", meaning: "ÙŠÙˆØ³Ù‘Ø¹", example: "Wir erweitern unser Angebot", prep: "", derivatives: []},
        {verb: "vergrÃ¶ÃŸern", meaning: "ÙŠÙƒØ¨Ù‘Ø±", example: "Ich vergrÃ¶ÃŸere das Foto", prep: "", derivatives: []},
        {verb: "verkleinern", meaning: "ÙŠØµØºÙ‘Ø±", example: "Ich verkleinere die Datei", prep: "", derivatives: []},
        {verb: "erneuern", meaning: "ÙŠØ¬Ø¯Ø¯", example: "Ich erneuere meinen Pass", prep: "", derivatives: []},
        {verb: "ersetzen", meaning: "ÙŠØ³ØªØ¨Ø¯Ù„", example: "Ich ersetze die alte Lampe", prep: "", derivatives: []},
        {verb: "austauschen", meaning: "ÙŠØªØ¨Ø§Ø¯Ù„", example: "Wir tauschen Erfahrungen aus", prep: "", derivatives: []},
        {verb: "umwandeln", meaning: "ÙŠØ­ÙˆÙ‘Ù„", example: "Ich wandle Euro in Dollar um", prep: "", derivatives: []}
    ],

    tab18: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
        {verb: "sich kennenlernen", meaning: "ÙŠØªØ¹Ø§Ø±Ù", example: "Wir lernen uns kennen", prep: "", derivatives: []},
        {verb: "sich unterhalten", meaning: "ÙŠØªØ­Ø¯Ø« / ÙŠØªØ³Ù„Ù‘Ù‰", example: "Wir unterhalten uns gut", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "diskutieren", meaning: "ÙŠÙ†Ø§Ù‚Ø´", example: "Wir diskutieren Ã¼ber Politik", prep: "+ Ã¼ber (Akkusativ)", derivatives: []},
        {verb: "streiten", meaning: "ÙŠØªØ´Ø§Ø¬Ø±", example: "Sie streiten sich oft", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "sich versÃ¶hnen", meaning: "ÙŠØªØµØ§Ù„Ø­", example: "Sie versÃ¶hnen sich wieder", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "verzeihen", meaning: "ÙŠØ³Ø§Ù…Ø­", example: "Ich verzeihe dir", prep: "+ Dativ", derivatives: []},
        {verb: "vertrauen", meaning: "ÙŠØ«Ù‚", example: "Ich vertraue dir", prep: "+ Dativ", derivatives: []},
        {verb: "misstrauen", meaning: "ÙŠØ±ØªØ§Ø¨", example: "Ich misstraue ihm", prep: "+ Dativ", derivatives: []},
        {verb: "respektieren", meaning: "ÙŠØ­ØªØ±Ù…", example: "Ich respektiere deine Meinung", prep: "", derivatives: []},
        {verb: "bewundern", meaning: "ÙŠÙØ¹Ø¬Ø¨ Ø¨Ù€", example: "Ich bewundere deine Arbeit", prep: "", derivatives: []},
        {verb: "beneiden", meaning: "ÙŠØ­Ø³Ø¯", example: "Ich beneide dich um dein GlÃ¼ck", prep: "+ um (Akkusativ)", derivatives: []},
        {verb: "heiraten", meaning: "ÙŠØªØ²ÙˆØ¬", example: "Ich heirate nÃ¤chstes Jahr", prep: "", derivatives: []},
        {verb: "sich scheiden lassen", meaning: "ÙŠØ·Ù„Ù‘Ù‚", example: "Sie lassen sich scheiden", prep: "", derivatives: []},
        {verb: "sich verlieben", meaning: "ÙŠÙ‚Ø¹ ÙÙŠ Ø§Ù„Ø­Ø¨", example: "Ich habe mich verliebt", prep: "+ in (Akkusativ)", derivatives: []},
        {verb: "sich trennen", meaning: "ÙŠÙØªØ±Ù‚", example: "Wir trennen uns", prep: "+ von (Dativ)", derivatives: []}
    ],

    tab19: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„
        {verb: "investieren", meaning: "ÙŠØ³ØªØ«Ù…Ø±", example: "Ich investiere in Aktien", prep: "+ in (Akkusativ)", derivatives: []},
        {verb: "leihen", meaning: "ÙŠÙÙ‚Ø±Ø¶", example: "Ich leihe dir Geld", prep: "", derivatives: []},
        {verb: "borgen", meaning: "ÙŠÙ‚ØªØ±Ø¶", example: "Ich borge mir Geld", prep: "", derivatives: []},
        {verb: "schulden", meaning: "ÙŠØ¯ÙŠÙ†", example: "Ich schulde dir 50 Euro", prep: "", derivatives: []},
        {verb: "zurÃ¼ckzahlen", meaning: "ÙŠØ³Ø¯Ø¯", example: "Ich zahle den Kredit zurÃ¼ck", prep: "", derivatives: []},
        {verb: "Ã¼berweisen", meaning: "ÙŠØ­ÙˆÙ‘Ù„ (Ù…Ø§Ù„Ø§Ù‹)", example: "Ich Ã¼berweise das Geld", prep: "", derivatives: []},
        {verb: "abheben", meaning: "ÙŠØ³Ø­Ø¨ (Ù…Ø§Ù„Ø§Ù‹)", example: "Ich hebe Geld ab", prep: "", derivatives: []},
        {verb: "einzahlen", meaning: "ÙŠÙˆØ¯Ø¹ (Ù…Ø§Ù„Ø§Ù‹)", example: "Ich zahle Geld ein", prep: "", derivatives: []},
        {verb: "spenden", meaning: "ÙŠØªØ¨Ø±Ø¹", example: "Ich spende fÃ¼r wohltÃ¤tige Zwecke", prep: "+ fÃ¼r (Akkusativ)", derivatives: []},
        {verb: "verschwenden", meaning: "ÙŠØ¨Ø°Ù‘Ø±", example: "Verschwende kein Geld!", prep: "", derivatives: []},
        {verb: "handeln", meaning: "ÙŠØªØ§Ø¬Ø±", example: "Er handelt mit Autos", prep: "+ mit (Dativ)", derivatives: []},
        {verb: "verhandeln", meaning: "ÙŠØªÙØ§ÙˆØ¶", example: "Wir verhandeln Ã¼ber den Preis", prep: "+ Ã¼ber (Akkusativ)", derivatives: []}
    ],

    tab20: [ // Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ£Ø«ÙŠØ± ÙˆØ§Ù„Ø³Ø¨Ø¨ÙŠØ©
        {verb: "verursachen", meaning: "ÙŠØªØ³Ø¨Ø¨ ÙÙŠ", example: "Der Regen verursacht Ãœberschwemmungen", prep: "", derivatives: []},
        {verb: "bewirken", meaning: "ÙŠÙØ­Ø¯ÙØ«", example: "Das bewirkt eine VerÃ¤nderung", prep: "", derivatives: []},
        {verb: "fÃ¼hren zu", meaning: "ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰", example: "Das fÃ¼hrt zu Problemen", prep: "+ zu (Dativ)", derivatives: []},
        {verb: "beeinflussen", meaning: "ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰", example: "Das Wetter beeinflusst meine Stimmung", prep: "", derivatives: []},
        {verb: "Ã¼berreden", meaning: "ÙŠÙ‚Ù†Ø¹", example: "Ich Ã¼berrede ihn mitzukommen", prep: "", derivatives: []},
        {verb: "Ã¼berzeugen", meaning: "ÙŠÙ‚Ù†Ø¹", example: "Ich Ã¼berzeuge dich davon", prep: "+ von (Dativ)", derivatives: []},
        {verb: "zwingen", meaning: "ÙŠÙØ¬Ø¨Ø±", example: "Niemand zwingt dich dazu", prep: "+ zu (Dativ)", derivatives: []},
        {verb: "verhindern", meaning: "ÙŠÙ…Ù†Ø¹", example: "Wir verhindern das Problem", prep: "", derivatives: []},
        {verb: "ermÃ¶glichen", meaning: "ÙŠÙÙ…ÙƒÙ‘Ù†", example: "Das ermÃ¶glicht neue Chancen", prep: "", derivatives: []},
        {verb: "erlauben", meaning: "ÙŠØ³Ù…Ø­", example: "Ich erlaube es dir", prep: "", derivatives: []}
    ]
};

let currentSearchQuery = '';

function highlightText(text, query) {
    if (!query) return text;
    const regex = new RegExp(`(${query})`, 'gi');
    return text.replace(regex, '<span class="highlight-text">$1</span>');
}

function renderVerbCard(verb, searchQuery = '', inFavorites = false) {
    const hasDerivatives = verb.derivatives && verb.derivatives.length > 0;
    const card = document.createElement('div');
    
    // Don't show pin icon for derivative cards or cards without derivatives
    card.className = (hasDerivatives && !verb.isDerivative) ? 'verb-card has-derivatives' : 'verb-card';
    if (searchQuery) card.classList.add('highlight');
    
    // Only show modal for main verbs with derivatives, not for standalone derivatives
    if (hasDerivatives && !verb.isDerivative) {
        card.onclick = () => showModal(verb.verb, verb.meaning, verb.derivatives, verb.prep);
    }
    
    // Add favorite button
    const favBtn = document.createElement('button');
    favBtn.className = 'favorite-btn';
    favBtn.innerHTML = isFavorite(verb) ? 'â˜…' : 'â˜†';
    favBtn.onclick = (e) => {
        e.stopPropagation();
        const isFav = toggleFavorite(verb, e);
        favBtn.innerHTML = isFav ? 'â˜…' : 'â˜†';
        favBtn.classList.add('active');
        setTimeout(() => favBtn.classList.remove('active'), 300);
    };
    card.appendChild(favBtn);
    
    // Add parent verb info for derivatives
    let parentInfo = '';
    if (verb.isDerivative && verb.parentVerb) {
        parentInfo = `<div style="font-size: 0.75em; color: #999; margin-bottom: 5px;">Ù…Ù†: ${verb.parentVerb}</div>`;
    }
    
    const content = document.createElement('div');
    content.innerHTML = `
        ${parentInfo}
        <div class="verb-german">${highlightText(verb.verb, searchQuery)}</div>
        ${verb.prep ? `<div class="verb-prep">${highlightText(verb.prep, searchQuery)}</div>` : ''}
        <div class="verb-arabic">${highlightText(verb.meaning, searchQuery)}</div>
        <div class="verb-example">${highlightText(verb.example, searchQuery)}</div>
    `;
    card.appendChild(content);
    
    return card;
}

function renderVerbs(tabId) {
    const grid = document.querySelector(`#${tabId} .verbs-grid`);
    if (grid.children.length > 0) return;
    
    verbsData[tabId].forEach(v => {
        grid.appendChild(renderVerbCard(v));
    });
}

function searchVerbs() {
    const searchBox = document.getElementById('searchBox');
    const query = searchBox.value.trim().toLowerCase();
    const clearBtn = document.getElementById('clearSearch');
    const resultsInfo = document.getElementById('searchResultsInfo');
    
    // Show/hide clear button
    clearBtn.classList.toggle('visible', query.length > 0);
    
    if (query.length === 0) {
        // Hide search results and show current tab
        document.getElementById('searchResults').classList.remove('active');
        const activeTab = document.querySelector('.tab-content.active:not(#searchResults)');
        if (!activeTab) {
            document.getElementById('tab1').classList.add('active');
        }
        resultsInfo.textContent = '';
        currentSearchQuery = '';
        return;
    }
    
    currentSearchQuery = query;
    
    // Hide all tabs and show search results
    const allTabs = document.querySelectorAll('.tab-content');
    allTabs.forEach(tab => tab.classList.remove('active'));
    document.getElementById('searchResults').classList.add('active');
    
    // Deactivate all tab buttons
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(btn => btn.classList.remove('active'));
    
    // Search through all verbs
    const searchResultsGrid = document.getElementById('searchResultsGrid');
    searchResultsGrid.innerHTML = '';
    
    let foundVerbs = [];
    
    Object.keys(verbsData).forEach(tabKey => {
        verbsData[tabKey].forEach(verb => {
            // Search ONLY in the main verb name - must start with query
            const matchesVerb = verb.verb.toLowerCase().startsWith(query);
            
            if (matchesVerb) {
                foundVerbs.push(verb);
            }
            
            // Check derivatives and add them as separate entries if they match
            if (verb.derivatives && verb.derivatives.length > 0) {
                verb.derivatives.forEach(der => {
                    if (der.verb.toLowerCase().startsWith(query)) {
                        // Create a standalone verb object for the matching derivative
                        foundVerbs.push({
                            verb: der.verb,
                            meaning: der.meaning,
                            example: der.example,
                            prep: "",
                            derivatives: [],
                            isDerivative: true,
                            parentVerb: verb.verb
                        });
                    }
                });
            }
        });
    });
    
    // Display results
    if (foundVerbs.length > 0) {
        resultsInfo.textContent = `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${foundVerbs.length} Ù†ØªÙŠØ¬Ø©`;
        foundVerbs.forEach(verb => {
            searchResultsGrid.appendChild(renderVerbCard(verb, query));
        });
    } else {
        resultsInfo.textContent = '';
        searchResultsGrid.innerHTML = '<div class="no-results">ğŸ˜” Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬<br>Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø¨Ø­Ø« Ø¨ÙƒÙ„Ù…Ø§Øª Ø£Ø®Ø±Ù‰</div>';
    }
}

function clearSearch() {
    document.getElementById('searchBox').value = '';
    searchVerbs();
    document.getElementById('searchBox').focus();
}

function openTab(evt, tabId) {
    // Only activate tab if not searching
    const searchBox = document.getElementById('searchBox');
    if (searchBox.value.trim().length > 0) {
        searchBox.value = '';
        searchVerbs();
    }
    
    const tabContents = document.getElementsByClassName('tab-content');
    for (let i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove('active');
    }
    
    const tabButtons = document.getElementsByClassName('tab-button');
    for (let i = 0; i < tabButtons.length; i++) {
        tabButtons[i].classList.remove('active');
    }
    
    document.getElementById(tabId).classList.add('active');
    evt.currentTarget.classList.add('active');
    
    // Render favorites if favorites tab is opened
    if (tabId === 'favorites') {
        renderFavorites();
    } else {
        renderVerbs(tabId);
    }
}

function showModal(verb, meaning, derivatives, prep) {
    document.getElementById('modalVerbTitle').textContent = verb;
    document.getElementById('modalVerbMeaning').textContent = meaning;
    document.getElementById('modalPrep').textContent = prep || '';
    
    const derivativesSection = document.getElementById('derivativesSection');
    
    if (derivatives && derivatives.length > 0) {
        let html = '<div class="derivatives-title">ğŸ”— Ø§Ù„Ù…Ø´ØªÙ‚Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹</div>';
        derivatives.forEach(der => {
            html += `
                <div class="derivative-card">
                    <div class="derivative-verb">${der.verb}</div>
                    <div class="derivative-meaning">${der.meaning}</div>
                    <div class="derivative-example">${der.example}</div>
                </div>
            `;
        });
        derivativesSection.innerHTML = html;
    } else {
        derivativesSection.innerHTML = '<div class="no-derivatives">âš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙØ¹Ù„ Ù„ÙŠØ³ Ù„Ù‡ Ù…Ø´ØªÙ‚Ø§Øª Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Ù…Ø³ØªÙˆÙ‰ A2-B1</div>';
    }
    
    document.getElementById('verbModal').style.display = 'block';
}

function closeModal() {
    document.getElementById('verbModal').style.display = 'none';
}

window.onclick = function(event) {
    if (event.target == document.getElementById('verbModal')) {
        closeModal();
    }
}

document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        const modal = document.getElementById('verbModal');
        if (modal.style.display === 'block') {
            closeModal();
        } else {
            clearSearch();
        }
    }
});

// Render first tab on page load
renderVerbs('tab1');

// Initialize favorites count
updateFavoritesCount();

// Load dark mode preference
loadDarkMode();
    </script>
</body>
</html>
